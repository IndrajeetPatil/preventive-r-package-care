<!DOCTYPE html>
<html lang="en"><head>
<script src="slides_files/libs/clipboard/clipboard.min.js"></script>
<script src="slides_files/libs/quarto-html/tabby.min.js"></script>
<script src="slides_files/libs/quarto-html/popper.min.js"></script>
<script src="slides_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="slides_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="slides_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="slides_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="slides_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="slides_files/libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="slides_files/libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.105">

  <meta name="keywords" content="software-engineering, r-packages, best-practices, CRAN">
  <title>slides</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link rel="stylesheet" href="style.css">
  <link href="slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="preventive-care-for-r-packages" class="slide level2" style="text-align: center;">
<h2>Preventive Care for R Packages</h2>
<!-- Don't render this file manually. Run `renderer.R` script instead. -->
<div style="text-align: center;">
<p>Indrajeet Patil</p>
</div>

<!-- Need to install extension from https://github.com/quarto-ext/fontawesome -->
<!-- Run `quarto install extension quarto-ext/fontawesome` in terminal -->
<img data-src="media/preventive-care.jpeg" width="226" class="r-stretch"></section>
<section id="software-engineering-ought-to-produce-sustainability." class="title-slide slide level1 center">
<h1>“Software engineering ought to produce sustainability.”</h1>
<p>- Mark Seemann (<em>Code That Fits in Your Head</em>)</p>
</section>

<section id="target-audience" class="title-slide slide level1 center">
<h1>Target audience</h1>
<p>Specifying the intended audience early-on to check relevance of the content for you.</p>
</section>

<section>
<section id="before-we-begin" class="title-slide slide level1 center">
<h1>Before we begin</h1>
<p>Don’t miss the forest for the trees.</p>
</section>
<section id="section" class="slide level2">
<h2></h2>
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>It’s not about the tools</strong></p>
</div>
<div class="callout-content">
<p>I will rely heavily on GitHub as the hosting platform and GitHub Actions as the CI/CD framework. Even if you use neither, don’t feel that this is not relevant for you.</p>
<p>At the end of each section, I will include a checklist with broader takeaways independent of the development tech stack. You can implement the necessary checks with the tools you prefer.</p>
</div>
</div>
</div>
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>It’s not just about CRAN</strong></p>
</div>
<div class="callout-content">
<p>Following the recommended practices will make packages more robust to the possibility of CRAN archival, but that benefit is <em>incidental</em>.</p>
<p>You can follow these practices even if you never plan to submit to CRAN, since the ultimate goal is better user experience and maintainability.</p>
</div>
</div>
</div>
</section>
<section id="iconography" class="slide level2 smaller">
<h2>Iconography</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:15%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/target.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:35%;">
<p><br> Overarching goal</p>
</div><div class="column" style="width:15%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/problem-solved.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:35%;">
<p><br> Problem to solve</p>
</div>
</div>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:15%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/confused.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:35%;">
<p><br> Bad user experience</p>
</div><div class="column" style="width:15%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/headache.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:35%;">
<p><br> Maintenance nightmare</p>
</div>
</div>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:15%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/toolbox.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:35%;">
<p><br> Tooling</p>
</div><div class="column" style="width:15%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/robot.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:35%;">
<p><br> Automation</p>
</div>
</div>
</section></section>
<section id="documentation" class="title-slide slide level1 center">
<h1>Documentation</h1>
<p>Preventive care to make sure the docs are up-to-date.</p>
</section>

<section id="incorrect-documentation-is-often-worse-than-no-documentation." class="title-slide slide level1 center">
<h1>“Incorrect documentation is often worse than no documentation.”</h1>
<p>- Bertrand Meyer</p>
</section>

<section>
<section id="section-1" class="title-slide slide level1 center">
<h1></h1>
<!-- column layout -->
<div style="background-color: #A9F5A9; padding: 20px; border-radius: 25px;">
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/target.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div style="color: blue; text-align: center;">
<p><strong>For a good user experience, make sure that the docs are plentiful, valid, and up-to-date.</strong></p>
</div>
</div>
</div>
</div>
</section>
<section id="sources-of-documentation" class="slide level2 smaller">
<h2>Sources of documentation</h2>
<p>Package documentation is typically scattered across the following documents.</p>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:30%;">
<div style="text-align: center;">
<p><strong>README.md</strong></p>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/readme.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:30%;">
<div style="text-align: center;">
<p><strong>Help pages</strong></p>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/example.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:30%;">
<div style="text-align: center;">
<p><strong>Vignettes</strong></p>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/application.png" width="256"></p>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="make-sure-there-are-enough-examples-in-the-documentation." class="title-slide slide level1 center">
<h1>Make sure there are enough examples in the documentation.</h1>

</section>
<section id="an-example-is-worth-a-thousand-words" class="slide level2 smaller">
<h2>An example is worth a thousand words</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/research.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Access to abundant examples in help pages and vignettes provides a natural starting point for users to explore and experiment with the available functionality.</p>
<p>Good examples are difficult to write, but any examples are better than none.</p>
</div>
</div>
<p><br></p>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/confused.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Without enough expository examples, users are left to fumble their way into discovering rest of the available functionality.</p>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/problem-solved.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div style="color: red;">
<p><strong>How to ensure that there are <em>enough</em> number of examples?</strong></p>
</div>
</div>
</div>
</div>
</section>
<section id="maintaining-example-code-coverage" class="slide level2 smaller">
<h2>Maintaining example code coverage</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:9%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/toolbox.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:91%;">
<p>Use <a href="https://covr.r-lib.org/" target="_blank"><code>{covr}</code></a> to compute example code coverage (i.e.&nbsp;proportion of the source code that is executed when running examples in help pages and vignettes), and to ensure that it is above a certain threshold.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">package_coverage</span>(<span class="at">type =</span> <span class="fu">c</span>(<span class="st">"examples"</span>, <span class="st">"vignettes"</span>), <span class="at">commentDonttest =</span> <span class="cn">FALSE</span>, <span class="at">commentDontrun =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:9%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/robot.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:91%;">
<p>Use a <a href="https://github.com/IndrajeetPatil/statsExpressions/blob/main/.github/workflows/test-coverage-examples.yaml" target="_blank">GHA workflow</a> to ensure that the code coverage via examples never drops below the chosen threshold.</p>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Additional tips</strong></p>
</div>
<div class="callout-content">
<ul>
<li><p>The choice of threshold is subjective and context-sensitive. Chasing after 100% example code coverage is futile.</p></li>
<li><p>Vignettes not included in the package (by placing them in a <code>vignettes/</code> subdirectory or by adding them to <code>.Rbuildignore</code>) will not contribute towards the code coverage. You can adjust your coverage threshold accordingly.</p></li>
<li><p>You can choose a threshold on a package-basis or on a file-basis (<code>covr::file_coverage()</code>).</p></li>
</ul>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="make-sure-all-readme-examples-are-working." class="title-slide slide level1 center">
<h1>Make sure all README examples are working.</h1>

</section>
<section id="readme-documentation" class="slide level2 smaller">
<h2>README documentation</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/readme.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p><code>README.md</code> provides a quick overview of the package API and can feature examples of key functions.</p>
<p>Although breaking changes might be infrequent, when they do occur, the code in README may become defunct.</p>
</div>
</div>
<p><br></p>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/confused.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p><code>README.md</code> is probably the first and the most-visited document in a project and any broken examples therein is bound to confuse many users.</p>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/problem-solved.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div style="color: red;">
<p><strong>How to insure against broken code in README?</strong></p>
</div>
</div>
</div>
</div>
</section>
<section id="detecting-broken-readme-examples" class="slide level2 smaller">
<h2>Detecting broken README examples</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/toolbox.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Use <a href="https://rmarkdown.rstudio.com/github_document_format.html"><code>{rmarkdown}</code></a> to dynamically generate <code>README.md</code> from <code>README.Rmd</code>. If there is broken code in README, it will fail to render.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">render</span>(<span class="st">"README.md"</span>, <span class="at">output_format =</span> rmarkdown<span class="sc">::</span><span class="fu">github_document</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/robot.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Use a <a href="https://github.com/IndrajeetPatil/statsExpressions/blob/main/.github/workflows/check-readme.yaml" target="_blank">GHA workflow</a> to check that README can be successfully rendered on each commit.</p>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Additional tips</strong></p>
</div>
<div class="callout-content">
<ul>
<li><p>If you are starting a new project, create README using <a href="https://usethis.r-lib.org/reference/use_readme_rmd.html"><code>usethis::use_readme_rmd()</code></a>.</p></li>
<li><p>If you need to convert your existing <code>.md</code> to <code>.Rmd</code>, you are <a href="https://github.com/yihui/knitr/issues/1807">currently</a> out of luck. You will need to do this manually.</p></li>
<li><p>If the repo is not under active development, you can run the workflow on a <a href="https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#schedule" target="_blank">scheduled time</a> (e.g.&nbsp;once a week).</p></li>
</ul>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="make-sure-all-examples-in-help-pages-are-working." class="title-slide slide level1 center">
<h1>Make sure <em>all</em> examples in help pages are working.</h1>

</section>
<section id="non-working-examples" class="slide level2 smaller">
<h2>Non-working examples</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/example.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Types of examples</strong></p>
</div>
<div class="callout-content">
<p>Help pages for exported functions should contain examples (Rd tag: <code>\examples{}</code>) illustrating their usage. But you can skip executing some examples (e.g.&nbsp;because they are too time-consuming). In particular, R allows offers following tags:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Tag</th>
<th style="text-align: center;">Run by <code>example()</code>?</th>
<th style="text-align: center;">Run by <code>R CMD check</code>?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>\dontrun{}</code></td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>\donttest{}</code></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>\dontshow{}</code></td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/confused.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Thus, broken <code>\dontrun{}</code> and <code>\donttest{}</code> examples may not be flagged by <code>R CMD check</code> (but maybe by CRAN’s additional <a href="https://www.stats.ox.ac.uk/pub/bdr/donttest/" target="_blank">“donttest” check</a>). Users will still see these examples, and wonder why they aren’t working for them.</p>
</div>
</div>
</div>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/problem-solved.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div style="color: red;">
<p><strong>How to catch examples that don’t run successfully?</strong></p>
</div>
</div>
</div>
</div>
</section>
<section id="checking-all-examples" class="slide level2 smaller">
<h2>Checking all examples</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/toolbox.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Use <a href="https://r-lib.github.io/devtools/" target="_blank"><code>{devtools}</code></a> to run all examples. You can then fix the broken ones.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">run_examples</span>(<span class="at">run_dontrun =</span> <span class="cn">TRUE</span>, <span class="at">run_donttest =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/robot.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Use a <a href="https://github.com/IndrajeetPatil/statsExpressions/blob/main/.github/workflows/check-all-examples.yaml" target="_blank">GHA workflow</a> to make sure all examples in help pages are working on each commit.</p>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Additional tips</strong></p>
</div>
<div class="callout-content">
<ul>
<li><p>Examples that are <em>meant</em> to fail should use any of the following patterns:</p>
<ul>
<li><code>if (FALSE) { ... }</code> (if example is included only for illustrative purposes)</li>
<li><code>try({ ... })</code> (if the intent is to show the error)</li>
</ul></li>
<li><p>If the repo is not under active development, you can run the workflow on a <a href="https://docs.github.com/en/actions/using-workflows/events-that-trigger" target="_blank">scheduled time</a> (e.g.&nbsp;once a week).</p></li>
</ul>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="make-sure-examples-in-all-vignettes-are-working." class="title-slide slide level1 center">
<h1>Make sure examples in <em>all</em> vignettes are working.</h1>

</section>
<section id="vignette-examples" class="slide level2 smaller">
<h2>Vignette examples</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/application.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Types of vignettes</strong></p>
</div>
<div class="callout-content">
<p>Vignettes included in the package will fail if examples are broken. But you can choose to exclude some vignettes to reduce package size or to reduce check time. You can do so by placing them in a <code>vignettes/</code> subdirectory or by adding them to <code>.Rbuildignore</code>.</p>
</div>
</div>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/headache.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Thus, broken examples in excluded vignettes won’t be caught by <code>R CMD check</code>. Although users might not see them on CRAN, as a maintainer, you don’t wish to retain defunct examples in the documentation.</p>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/problem-solved.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div style="color: red;">
<p><strong>How to detect broken examples in excluded vignettes?</strong></p>
</div>
</div>
</div>
</div>
</section>
<section id="building-all-vignettes" class="slide level2 smaller">
<h2>Building all vignettes</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/toolbox.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Although excluded vignettes may not be checked by <code>R CMD check</code>, they are still built by <a href="https://r-lib.github.io/pkgdown/"><code>{pkgdown}</code></a> to generate a static website. This would detect any broken examples.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>pkgdown<span class="sc">::</span><span class="fu">build_site</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/robot.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Use a <a href="https://github.com/r-lib/actions/blob/v2-branch/examples/pkgdown.yaml" target="_blank">GHA workflow</a> to make sure examples in <em>all</em> vignettes are working on each commit.</p>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Additional tips</strong></p>
</div>
<div class="callout-content">
<ul>
<li><p>Code chunks that are <em>meant</em> to fail should use <code>error=TRUE</code> option.</p></li>
<li><p>If the repo is not under active development, you can run the workflow on a <a href="https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#schedule" target="_blank">scheduled time</a> (e.g.&nbsp;once a week).</p></li>
</ul>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="make-sure-all-urls-are-valid." class="title-slide slide level1 center">
<h1>Make sure <em>all</em> URLs are valid.</h1>

</section>
<section id="what-is-link-rot" class="slide level2 smaller">
<h2>What is link rot?</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<p><br></p>
<p><i class="fa-solid fa-link-slash fa-2xl" aria-label="link-slash"></i></p>
</div><div class="column" style="width:90%;">
<p>Package documentation often includes a plenty of hyperlinks to external resources. But some of them may become invalid over time.</p>
<p><a href="https://en.wikipedia.org/wiki/Link_rot" target="_blank">Link rot</a> happens because web pages move to new addresses or become permanently unavailable.</p>
</div>
</div>
<div class="fragment">
<p><br></p>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/confused.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Such dangling references can be frustrating for the users trying to access the resources that the dead links were previously pointing to.</p>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/problem-solved.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div style="color: red;">
<p><strong>How to prevent link rot from accumulating?</strong></p>
</div>
</div>
</div>
</div>
</section>
<section id="detecting-link-rot" class="slide level2 smaller">
<h2>Detecting link rot</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/toolbox.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>You can use <a href="https://r-lib.github.io/urlchecker/" target="_blank"><code>{urlchecker}</code></a> to detect dead web references and their locations in the documentation. Fixing these links is then straightforward.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>urlchecker<span class="sc">::</span><span class="fu">url_check</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/robot.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Use GHA workflow to automate URL checking (see <a href="https://github.com/IndrajeetPatil/statsExpressions/blob/main/.github/workflows/check-link-rot.yaml" target="_blank">example workflow</a>). This will ensure that bad URLs will be discovered on each commit.</p>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Additional tips</strong></p>
</div>
<div class="callout-content">
<ul>
<li><p>If <code>{urlchecker}</code> finds dead URLs in <code>.html</code>/<code>.md</code> files, you will need to update <code>.Rmd</code>/<code>.qmd</code> files and then regenerate the docs. Otherwise, you will keep wondering why <code>urlchecker::url_update()</code> isn’t fixing the links.</p></li>
<li><p>If the repo is not under active development, you can run the workflow on a <a href="https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#schedule">scheduled time</a> (e.g.&nbsp;once a week).</p></li>
<li><p>There can be false positives sometimes because a server is temporarily down. Re-triggering the workflow can help.</p></li>
</ul>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="make-sure-there-are-no-spelling-mistakes." class="title-slide slide level1 center">
<h1>Make sure there are no spelling mistakes.</h1>

</section>
<section id="spelling-mistakes" class="slide level2 smaller">
<h2>Spelling mistakes</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/spell-check.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Spelling mistakes are inevitable and, if left unchecked, they can accumulate rapidly with the increase in the documentation.</p>
</div>
</div>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/confused.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Spelling mistakes obvious to native speakers may not be so for non-native speakers, who will be frustrated that they can’t find the meaning of the misspelt word.</p>
<p>Additionally, misspelling technical words (e.g.&nbsp;<em>innode</em> vs.&nbsp;<a href="https://en.wikipedia.org/wiki/Inode" target="_blank"><em>inode</em></a>) can lead users down the wrong path and waste their time.</p>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/problem-solved.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div style="color: red;">
<p><strong>How to prevent spelling mistakes from accumulating in the documentation?</strong></p>
</div>
</div>
</div>
</div>
</section>
<section id="creating-a-list-of-allowed-misspellings" class="slide level2 smaller">
<h2>Creating a list of allowed misspellings</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:70%;">
<p>There exist multiple English spelling standards (e.g.&nbsp;in British English: <em>anaemia</em>, but in American English: <em>anemia</em>). You can specify your preferred standard in <code>DESCRIPTION</code>.</p>
</div><div class="column" style="width:30%;">
<p>E.g. for British English</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource dcf number-lines code-with-copy"><code class="sourceCode"><span id="cb6-1"><a href="#cb6-1"></a>Language: en-GB</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<p><br></p>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:60%;">
<p>Additionally, some technical words will not be recognized by dictionaries, but you don’t want these to be considered spelling mistakes either. You can create a list of allowed misspelt words in the <code>WORDLIST</code> file.</p>
</div><div class="column" style="width:20%;">
<p>File location</p>
<pre><code>├── DESCRIPTION
├── inst
│   └── WORDLIST</code></pre>
</div><div class="column" style="width:20%;">
<p>Example file</p>
<pre><code>addin
api
AppVeyor
biocthis
bootswatch
...
winbuilder
YAML</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<p>Now you are all set for detecting spelling mistakes!</p>
</div>
</section>
<section id="detecting-spelling-mistakes" class="slide level2 smaller">
<h2>Detecting spelling mistakes</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/toolbox.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Use <a href="https://docs.ropensci.org/spelling/" target="_blank"><code>{spelling}</code></a> to detect misspelled words and their location in the docs.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>spelling<span class="sc">::</span><span class="fu">spell_check_package</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/robot.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Use GHA workflow to automate URL checking (see <a href="https://github.com/IndrajeetPatil/statsExpressions/blob/main/.github/workflows/check-spelling.yaml" target="_blank">example workflow</a>). This will ensure that spelling mistakes will be discovered on each commit.</p>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Additional tips</strong></p>
</div>
<div class="callout-content">
<ul>
<li><p>Instead of a GHA workflow, you can also include spell check tests in the package itself. For more, see <code>usethis::use_spell_check()</code>.</p></li>
<li><p>If you install <a href="https://www.grammarly.com/desktop">Grammarly desktop</a>, it will flag spelling mistakes and will even suggest a clearer way to phrase your sentences. For VS Code, check out <a href="https://marketplace.visualstudio.com/items?itemName=znck.grammarly">Grammarly extension</a>.</p></li>
</ul>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="make-sure-all-html-in-the-help-pages-is-valid." class="title-slide slide level1 center">
<h1>Make sure <em>all</em> HTML in the help pages is valid.</h1>

</section>
<section id="html5-check" class="slide level2 smaller">
<h2>HTML5 check</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/html-5.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>HTML has few syntactic rules, and browsers may not even enforce the rules it does have. E.g., browsers will tolerate mismatched tags, missing end tags, misnested tags, etc. HTML5 standard aims to improve this situation, and package help pages use HTML5 standard since R 4.2.</p>
</div>
</div>
<div class="fragment">
<p><br></p>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/headache.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>You will thus need to make sure that your package documentation neither generates invalid HTML nor contains raw invalid HTML.</p>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/problem-solved.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div style="color: red;">
<p><strong>How to make sure help pages have valid HTML?</strong></p>
</div>
</div>
</div>
</div>
</section>
<section id="detecting-invalid-html" class="slide level2 smaller">
<h2>Detecting invalid HTML</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/toolbox.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>CRAN uses <a href="https://www.html-tidy.org/documentation/">HTML tidy</a> to detect markup errors in HTML. But, if you use <a href="https://roxygen2.r-lib.org/" target="_blank"><code>{roxygen2}</code></a>, it will ensure against producing any invalid HTML.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>roxygen2<span class="sc">::</span><span class="fu">roxygenise</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/robot.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Use GHA workflow to automate checking validity of HTML manual (see <a href="https://github.com/r-lib/actions/blob/v2-branch/examples/html-5-check.yaml" target="_blank">example workflow</a>) on each commit.</p>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Additional tips</strong></p>
</div>
<div class="callout-content">
<ul>
<li>If your documentation contains math equations, you can choose between <a href="https://docs.ropensci.org/katex/reference/katex.html" target="_blank"><code>{katex}</code></a> and <a href="https://github.com/wviechtb/mathjaxr" target="_blank"><code>{mathjaxr}</code></a> to convert LaTeX math expressions to HTML for use in package manual pages.</li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="checklist-for-documentation" class="slide level2 smaller">
<h2>Checklist for documentation</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/target.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div style="color: blue; text-align: center;">
<p><strong>For a good user experience, make sure that the docs are plentiful, valid, and up-to-date.</strong></p>
</div>
</div>
</div>
<table>
<colgroup>
<col style="width: 80%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Item</th>
<th style="text-align: center;">Tool</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Make sure there are enough examples in the documentation.</td>
<td style="text-align: center;"><code>{covr}</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Make sure all README examples are working.</td>
<td style="text-align: center;"><code>{rmarkdown}</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Make sure all examples in help pages are working.</td>
<td style="text-align: center;"><code>{devtools}</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Make sure examples in all vignettes are working.</td>
<td style="text-align: center;"><code>{pkgdown}</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Make sure all URLs are valid.</td>
<td style="text-align: center;"><code>{urlchecker}</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Make sure there are no spelling mistakes.</td>
<td style="text-align: center;"><code>{spelling}</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Make sure all HTML in the help pages is valid.</td>
<td style="text-align: center;"><code>{roxygen2}</code></td>
</tr>
</tbody>
</table>
</section></section>
<section id="dependency-management" class="title-slide slide level1 center">
<h1>Dependency management</h1>
<p>Preventive care to make sure that all suggested (aka weak or soft) dependencies are used conditionally.</p>
</section>

<section id="dependencies-are-invitations-for-other-people-to-break-your-package." class="title-slide slide level1 center">
<h1>“Dependencies are invitations for other people to break your package.”</h1>
<p>- Joshua Ulrich</p>
</section>

<section>
<section id="section-2" class="title-slide slide level1 center">
<h1></h1>
<!-- column layout -->
<div style="background-color: #A9F5A9; padding: 20px; border-radius: 25px;">
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/target.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div style="color: blue; text-align: center;">
<p><strong>To reduce maintenance workload, make sure that checks pass both in the presence and absence of soft dependencies.</strong></p>
</div>
</div>
</div>
</div>
</section>
<section id="types-of-dependencies" class="slide level2 smaller">
<h2>Types of Dependencies</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/trust.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Dependencies (code that your source code relies on) are an inevitable part of package development.</p>
</div>
</div>
<div class="fragment">
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Not all dependencies are created equal!</strong></p>
</div>
<div class="callout-content">
<p>Hard dependencies have a broader scope because they are needed at runtime; i.e.&nbsp;your package won’t work without them, while soft dependencies have a narrow scope; e.g.&nbsp;because they are needed only for testing or for examples.</p>
<table>
<colgroup>
<col style="width: 12%">
<col style="width: 23%">
<col style="width: 63%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Dependency</th>
<th style="text-align: center;">In <code>DESCRIPTION</code></th>
<th style="text-align: center;">Scope</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Hard</td>
<td style="text-align: center;"><code>Depends</code>/<code>Imports</code></td>
<td style="text-align: center;">Needed for your package to work as expected.</td>
</tr>
<tr class="even">
<td style="text-align: center;">Soft</td>
<td style="text-align: center;"><code>Suggests</code></td>
<td style="text-align: center;">Nice to have but your package will work regardless.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="make-sure-soft-dependencies-are-used-conditionally." class="title-slide slide level1 center">
<h1>Make sure soft dependencies are used conditionally.</h1>

</section>
<section id="dependency-hygiene" class="slide level2 smaller">
<h2>Dependency hygiene</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/damaged-package.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Dependencies bring risk. If a critical dependency becomes unavailable (e.g.&nbsp;because its author decides to archive it), bad luck. You <strong>must</strong> either refactor to remove dependency or look for an alternative. Otherwise, your package is no longer going to work.</p>
<p>But this shouldn’t be the case for soft dependencies since they are not critical for your package to work.</p>
</div>
</div>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/headache.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>In a high-level, user-facing package, there can be a substantial number of soft dependencies, and the package risks breakage for <em>any</em> unavailable soft dependency. CRAN runs the additional, <a href="https://www.stats.ox.ac.uk/pub/bdr/noSuggests/" target="_blank">“noSuggests” check</a> to look for such breakages. Thus, soft dependencies should be used conditionally.</p>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/problem-solved.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div style="color: red;">
<p><strong>How to make sure <em>all</em> soft dependencies are being conditionally used?</strong></p>
</div>
</div>
</div>
</div>
</section>
<section id="conditional-dependency-usage" class="slide level2 smaller">
<h2>Conditional dependency usage</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:70%;">
<p>Soft dependencies should be used conditionally across all contexts. Let’s say <code>{lme4}</code> is such a dependency.</p>
</div><div class="column" style="width:30%;">
<p>In <code>DESCRIPTION</code></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource dcf number-lines code-with-copy"><code class="sourceCode"><span id="cb11-1"><a href="#cb11-1"></a>Suggests:</span>
<span id="cb11-2"><a href="#cb11-2"></a>    lme4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p><br></p>
<hr>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Examples</strong> in help pages should be executed only if package is available.</p>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># In R/file-1.R</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="co">#' @examplesIf requireNamespace("lme4")</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co">#' lme4::lmer(...)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<hr>
</div>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Vignettes</strong> (or specific code chunks) should be executed only if package is available.</p>
</div><div class="column" style="width:50%;">
<!-- TODO: add back verbatim chunk -->
<p>placeholder text</p>
</div>
</div>
<hr>
</div>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Tests</strong> should be run only if package is available.</p>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># In tests/testthat/test-file-1.R</span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="fu">test_that</span>(<span class="st">"bla"</span>, {</span>
<span id="cb13-3"><a href="#cb13-3"></a>  testthat<span class="sc">::</span><span class="fu">skip_if_not_installed</span>(<span class="st">"lme4"</span>)</span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="fu">expect_equal</span>(lme4<span class="sc">::</span><span class="fu">lmer</span>(...), ...)</span>
<span id="cb13-5"><a href="#cb13-5"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<hr>
</div>
</section>
<section id="checking-conditional-usage" class="slide level2 smaller">
<h2>Checking conditional usage</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/toolbox.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div class="callout callout-important callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Trick: Run <code>R CMD check</code> twice!</strong></p>
</div>
<div class="callout-content">
<ul>
<li>when <em>all</em> soft dependencies are available</li>
<li>when <em>none</em> are available</li>
</ul>
<p>If the package passes <code>R CMD check</code> in the first but not the second context, you can be sure that some soft dependencies are not being used conditionally.</p>
</div>
</div>
</div>
</div>
</div>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/robot.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Use GHA workflows to install <em>all</em> dependencies (see <a href="https://github.com/r-lib/actions/blob/v2-branch/examples/check-full.yaml" target="_blank">example workflow</a>) or <em>only</em> hard dependencies (see <a href="https://github.com/r-lib/actions/blob/v2-branch/examples/check-no-suggests.yaml" target="_blank">example workflow</a>) and check if the package passes <code>R CMD check</code> on each commit.</p>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Additional tips</strong></p>
</div>
<div class="callout-content">
<p>This trick won’t work for excluded vignettes (from <code>vignettes/</code> subdirectory or <code>.Rbuildignore</code>-ed). You can run <code>{pkgdown}</code> in “noSuggests” mode (see <a href="https://github.com/IndrajeetPatil/statsExpressions/blob/main/.github/workflows/pkgdown-no-suggests.yaml" target="_blank">example workflow</a>) to ensure that excluded vignettes are also using soft dependencies conditionally.</p>
</div>
</div>
</div>
</div>
</section>
<section id="checklist-for-dependency-management" class="slide level2 smaller">
<h2>Checklist for dependency management</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/target.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div style="color: blue; text-align: center;">
<p><strong>To reduce maintenance workload, make sure that checks pass both in the presence and absence of soft dependencies.</strong></p>
</div>
</div>
</div>
<table>
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Item</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Make sure examples in help pages are run conditionally.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Make sure vignettes (or code chunks therein) are executed conditionally.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Make sure tests are run conditionally.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Make sure excluded vignettes (or code chunks therein) are executed conditionally.</td>
</tr>
</tbody>
</table>
</section></section>
<section id="dealing-with-warnings" class="title-slide slide level1 center">
<h1>Dealing with warnings</h1>
<p>Preventive care to make sure that you don’t miss out on important warnings.</p>
</section>

<section>
<section id="there-is-a-problem-with-warnings.-no-one-reads-them." class="title-slide slide level1 center">
<h1>“There is a problem with warnings. No one reads them.”</h1>
<p>- Patrick Burns (<em>R Inferno</em>)</p>
</section>
<section id="types-of-conditionsexceptions" class="slide level2 smaller">
<h2>Types of conditions/exceptions</h2>
</section></section>
<section id="portability" class="title-slide slide level1 center">
<h1>Portability</h1>
<p>Preventive care to make sure that package works across a variety of settings.</p>
</section>

<section>
<section id="each-new-user-of-a-new-system-uncovers-a-new-class-of-bugs." class="title-slide slide level1 center">
<h1>“Each new user of a new system uncovers a new class of bugs.”</h1>
<p>- Brian Kernighan</p>
</section>
<section id="the-unbearable-diversity-of-contexts" class="slide level2 smaller">
<h2>The unbearable diversity of contexts</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/difference.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>You (the developer) may be working on the package in a certain setting: with a certain version of R, on a particular OS, in a certain locale, etc. Even if all tests pass and all examples run successfully for you locally, you can’t assume that your users will use the package in similar settings.</p>
</div>
</div>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/confused.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>If you restrict your checks only to run on these specific settings, you may not anticipate the problems your users may experience in other settings (e.g., the graphics device that works on <code>windows</code> may not work on <code>macOS</code>, code that works with <code>R 4.1</code> may not work with <code>R 3.6</code>, etc.).</p>
<div style="font-size: 20px;">
<p>The assumption here is that your package claims to support these settings. If your package docs clearly state that the package will work only on (e.g.) Windows, you don’t need to worry about other OS.</p>
</div>
</div>
</div>
</div>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/problem-solved.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<div style="color: red;">
<p><strong>How to make sure that your package is working as expected across various settings?</strong></p>
</div>
</div>
</div>
</div>
</section>
<section id="checking-across-multiple-settings" class="slide level2 smaller">
<h2>Checking across multiple settings</h2>
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/toolbox.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Use <a href="https://r-lib.github.io/rcmdcheck/" target="_blank"><code>{rcmdcheck}</code></a> to run <code>R CMD check</code> from R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>rcmdcheck<span class="sc">::</span><span class="fu">rcmdcheck</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div style="font-size: 20px;">
<p>All the options you can set to further customize this check is beyond the scope of the current presentation.</p>
</div>
</div>
</div>
<div class="fragment">
<!-- column layout -->
<div class="columns">
<div class="column" style="width:10%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="media/robot.png" width="256"></p>
</div>
</div>
</div><div class="column" style="width:90%;">
<p>Use GHA workflow to automate running <code>R CMD check</code> for multiple R versions and/or platforms (see <a href="https://github.com/r-lib/lintr/blob/main/.github/workflows/R-CMD-check.yaml" target="_blank">example workflow</a>) on each commit to discover potential portability issues.</p>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Additional tips</strong></p>
</div>
<div class="callout-content">
<ul>
<li><p>If needed, you can run checks on additional platforms using <a href="https://r-hub.github.io/rhub/articles/rhub.html"><code>{rhub}</code></a>.</p></li>
<li><p>Fully crossed checks (all major platforms <span class="math inline">\(\times\)</span> all supported R versions) are rarely necessary and definitely an overkill.</p></li>
<li><p>Ideally, the package should be tested until the oldest R version it purports to support. E.g. if <code>DESCRIPTION</code> says <code>R &gt;= 3.4</code>, then you should check until <code>R 3.4</code> to make sure that the package indeed works for this R version. If you check only until <code>R 3.5</code>, it is instead better to bump version in <code>DESCRIPTION</code>.</p></li>
</ul>
</div>
</div>
</div>
</div>
</section></section>
<section id="unit-testing" class="title-slide slide level1 center">
<h1>Unit testing</h1>
<p>offline</p>
</section>

<section id="precommit" class="title-slide slide level1 center">
<h1>Precommit</h1>

</section>

<section id="benchmarking" class="title-slide slide level1 center">
<h1>Benchmarking</h1>
<p>Touchstone framework</p>
</section>

<section id="check-against-devel-versions-of-dependencies" class="title-slide slide level1 center">
<h1>Check against devel versions of dependencies</h1>

</section>

<section id="fail-on-note" class="title-slide slide level1 center">
<h1>Fail on NOTE</h1>

</section>

<section id="eco-friendly-workflows" class="title-slide slide level1 center">
<h1>Eco-friendly workflows</h1>
<p>Do you <em>really</em> need to run all these workflows on each commit?!</p>
</section>

<section id="conclusion" class="title-slide slide level1 center">
<h1>Conclusion</h1>

</section>

<section id="for-more" class="title-slide slide level1 center">
<h1>For more</h1>
<p>If you are interested in good programming and software development practices, check out my other <a href="https://sites.google.com/site/indrajeetspatilmorality/presentations" target="_blank">slide decks</a>.</p>
</section>

<section id="acknowledgements" class="title-slide slide level1 smaller center">
<h1>Acknowledgements</h1>
<p>All images used in these slides have been taken from <a href="www.flaticon.com" target="_blank">Flaticon</a> by <a href="https://www.freepikcompany.com/" target="_blank">freepikcompany</a>. Huge thanks to them for making such fantastic resource freely available to the community.</p>
<p>Although the current repository is published under <a href="https://creativecommons.org/publicdomain/zero/1.0/" target="_blank">CC0 1.0 Universal (CC0 1.0)</a>, this license <strong>does not</strong> cover images in the <code>/media</code> folder. If you use them, you need to follow the <a href="https://support.flaticon.com/s/article/Attribution-How-when-and-where-FI?language=en_US" target="_blank">attribution policy</a> stated by Flaticon.</p>
</section>

<section id="find-me-at" class="title-slide slide level1 center">
<h1>Find me at…</h1>
<p><i class="fa-brands fa-twitter" aria-label="twitter"></i> <a href="http://twitter.com/patilindrajeets" target="_blank">Twitter</a></p>
<p><i class="fa-brands fa-linkedin" aria-label="linkedin"></i> <a href="https://www.linkedin.com/in/indrajeet-patil-397865174/" target="_blank">LikedIn</a></p>
<p><i class="fa-brands fa-github" aria-label="github"></i> <a href="http://github.com/IndrajeetPatil" target="_blank">GitHub</a></p>
<p><i class="fa-solid fa-link" aria-label="link"></i> <a href="https://sites.google.com/site/indrajeetspatilmorality/" target="_blank">Website</a></p>
<p><i class="fa-solid fa-envelope" aria-label="envelope"></i> <a href="mailto:patilindrajeet.science@gmail.com" target="_blank">E-mail</a></p>
</section>

<section>
<section id="thank-you" class="title-slide slide level1 center">
<h1>Thank You</h1>
<p>And Happy Package Care! 👼</p>
</section>
<section id="session-information" class="slide level2 smaller">
<h2>Session information</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>sessioninfo<span class="sc">::</span><span class="fu">session_info</span>(<span class="at">include_base =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>─ Session info ───────────────────────────────────────────────────────────────
 setting  value
 version  R version 4.2.2 (2022-10-31)
 os       macOS Ventura 13.1
 system   aarch64, darwin20
 ui       X11
 language (EN)
 collate  en_US.UTF-8
 ctype    en_US.UTF-8
 tz       Europe/Berlin
 date     2023-01-17
 pandoc   2.19.2 @ /Applications/RStudio.app/Contents/Resources/app/quarto/bin/tools/ (via rmarkdown)

─ Packages ───────────────────────────────────────────────────────────────────
 ! package     * version date (UTC) lib source
   base        * 4.2.2   2022-10-31 [?] local
   cli           3.6.0   2023-01-09 [1] CRAN (R 4.2.2)
 P compiler      4.2.2   2022-10-31 [1] local
 P datasets    * 4.2.2   2022-10-31 [1] local
   digest        0.6.31  2022-12-11 [1] CRAN (R 4.2.2)
   evaluate      0.19    2022-12-13 [1] CRAN (R 4.2.2)
   fastmap       1.1.0   2021-01-25 [1] CRAN (R 4.2.0)
   glue          1.6.2   2022-02-24 [1] CRAN (R 4.2.0)
 P graphics    * 4.2.2   2022-10-31 [1] local
 P grDevices   * 4.2.2   2022-10-31 [1] local
   htmltools     0.5.4   2022-12-07 [1] CRAN (R 4.2.2)
   jpeg          0.1-10  2022-11-29 [1] CRAN (R 4.2.0)
   jsonlite      1.8.4   2022-12-06 [1] CRAN (R 4.2.2)
   knitr         1.41    2022-11-18 [1] CRAN (R 4.2.2)
   lifecycle     1.0.3   2022-10-07 [1] CRAN (R 4.2.1)
   magrittr      2.0.3   2022-03-30 [1] CRAN (R 4.2.0)
 P methods     * 4.2.2   2022-10-31 [1] local
   png           0.1-8   2022-11-29 [1] CRAN (R 4.2.2)
   rlang         1.0.6   2022-09-24 [1] CRAN (R 4.2.1)
   rmarkdown     2.19    2022-12-15 [1] CRAN (R 4.2.2)
   rstudioapi    0.14    2022-08-22 [1] CRAN (R 4.2.1)
   sessioninfo   1.2.2   2021-12-06 [1] CRAN (R 4.2.0)
 P stats       * 4.2.2   2022-10-31 [1] local
   stringi       1.7.12  2023-01-11 [1] CRAN (R 4.2.0)
   stringr       1.5.0   2022-12-02 [1] CRAN (R 4.2.2)
 P tools         4.2.2   2022-10-31 [1] local
 P utils       * 4.2.2   2022-10-31 [1] local
   vctrs         0.5.1   2022-11-16 [1] CRAN (R 4.2.2)
   xfun          0.36    2022-12-21 [1] CRAN (R 4.2.0)
   yaml          2.3.6   2022-10-18 [1] CRAN (R 4.2.1)

 [1] /Library/Frameworks/R.framework/Versions/4.2-arm64/Resources/library

 P ── Loaded and on-disk path mismatch.

──────────────────────────────────────────────────────────────────────────────</code></pre>
</div>
</div>
<div class="footer footer-default">
<p>Source code for these slides can be found <a href="https://github.com/IndrajeetPatil/preventive-r-package-care/" target="_blank">on GitHub</a>.</p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="slides_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="slides_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="slides_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="slides_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="slides_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="slides_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="slides_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>